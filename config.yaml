name: "Theria"
description: "Smart heating optimization using electricity price-based heat capacitor strategy"
version: "0.3.2"
slug: "theria"
init: false
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
startup: application
boot: auto
ports:
  8081/tcp: 8081
ingress: true
ingress_port: 8081
panel_icon: mdi:radiator
panel_title: Theria
panel_admin: true
hassio_api: true
homeassistant_api: true
auth_api: true

options:
  sensors:
    nordpool_price: "sensor.nordpool_kwh_se4_sek_2_10_025"
    outdoor_temp: "sensor.outdoor"  # H60 outdoor temperature sensor

  influxdb:
    enabled: true
    # Credentials are read from .env file (HA_DB_URL, HA_DB_USER_NAME, HA_DB_PASSWORD)
    # Leave blank to use environment variables
    url: ""
    username: ""
    password: ""

  price_optimization:
    enabled: true
    price_sensor: "nordpool_price"
    expensive_hours: 4  # Number of most expensive hours to avoid heating
    cheap_hours: 4  # Number of cheapest hours to pre-heat
    adjustment_degrees: 0.5  # Temperature adjustment in Â°C

  zones:
    - id: "butik"
      name: "Butik"
      icon: "ğŸª"
      climate_entities:
        - "climate.vantsidan"
        - "climate.klippsidan"
      temp_sensors:
        - "climate.vantsidan"
        - "climate.klippsidan"
        - "sensor.schamponeringstolen_temperature"
        - "sensor.butik_temperature_2"
      comfort_target: 21.0  # Target comfort temperature (Â°C)
      allowed_deviation: 1.0  # Allowed temperature variation for savings (Â±Â°C)
      enabled: true

    - id: "first_floor"
      name: "First Floor"
      icon: "ğŸ "
      climate_entities:
        - "climate.lk_bibliotek_thermostat"
        - "climate.lk_vardagsrum_thermostat"
      temp_sensors:
        - "sensor.lk_bibliotek_temperature"
        - "sensor.lk_vardagsrum_temperature"
        - "sensor.sonoff_a480045bf5_temperature"
        - "sensor.gastrum_temperature_2"
      comfort_target: 22.0  # Target comfort temperature (Â°C)
      allowed_deviation: 1.0  # Allowed temperature variation for savings (Â±Â°C)
      enabled: true

schema:
  sensors:
    nordpool_price: str?
    outdoor_temp: str?
  influxdb:
    enabled: bool?
    url: str?
    username: str?
    password: str?
  price_optimization:
    enabled: bool?
    price_sensor: str?
    expensive_hours: int?
    cheap_hours: int?
    adjustment_degrees: float?
  zones:
    - id: str
      name: str
      icon: str?
      climate_entities:
        - str
      temp_sensors:
        - str
      comfort_target: float
      allowed_deviation: float
      enabled: bool?
